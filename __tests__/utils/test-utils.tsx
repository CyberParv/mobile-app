import { render } from '@testing-library/react-native'; import { AuthProvider } from '@/providers/AuthProvider'; import { ToastProvider } from '@/providers/ToastProvider'; import { SafeAreaProvider } from 'react-native-safe-area-context'; import axios from 'axios'; export function renderWithProviders(component, { overrideAuth } = {}) { return render(<AuthProvider overrideAuth={overrideAuth}><ToastProvider><SafeAreaProvider>{component}</SafeAreaProvider></ToastProvider></AuthProvider>); } export function mockApi() { jest.spyOn(axios, 'get').mockImplementation((url) => { if (url.includes('/error')) { return Promise.reject(new Error('Network Error')); } return Promise.resolve({ data: [] }); }); } export function createMockUser(id = 1) { return { id, name: `User ${id}`, email: `user${id}@example.com` }; } export function createMockEntity(id = 1) { return { id, name: `Entity ${id}` }; }